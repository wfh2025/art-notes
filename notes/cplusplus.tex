\documentclass{../main.tex}{subfiles}
\begin{document}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{C++}
\section{面向对象}
\subsection{错误构造对象}
\lstinputlisting[style = CodeLstStyleCpp, caption = {错误构造对象方式}]{
    resources/code/cpp/001-constructor.cpp
}
\begin{enumerate}[labelindent=0pt, itemsep=0pt, parsep=0pt, topsep=0pt, partopsep=0pt]
    \item ``A a()''这种\emph{无法构造对象}
    \item 编译器当成函数声明
\end{enumerate}

\subsection{正确调用无参构造函数}
\lstinputlisting[style = CodeLstStyleCpp, caption = {正确调用无参构造函数}]{
    resources/code/cpp/002-constructor.cpp
}

\subsection{无拷贝构造函数使用=赋值对象}
\lstinputlisting[style = CodeLstStyleCpp, caption = {无拷贝构造函数使用=赋值对象}]{
    resources/code/cpp/003-constructor.cpp
}
\begin{enumerate}[labelindent=0pt, itemsep=0pt, parsep=0pt, topsep=0pt, partopsep=0pt]
    \item 这里多产了一次析构函数，说明多产生一个对象
    \item 此处是直接赋值，若是堆内存指针，可能会异常
\end{enumerate}

\subsection{使用=调用拷贝构造函数}
\lstinputlisting[style = CodeLstStyleCpp, caption = {使用=调用拷贝构造函数}]{
    resources/code/cpp/004-constructor-copy.cpp
}

\subsection{使用圆括号调用拷贝构造函数}
\lstinputlisting[style = CodeLstStyleCpp, caption = {使用圆括号调用拷贝构造函数}]{
    resources/code/cpp/005-constructor-copy.cpp
}

\subsection{使用函数入参调用拷贝构造函数}
\lstinputlisting[style = CodeLstStyleCpp, caption = {使用函数入参调用拷贝构造函数}]{
    resources/code/cpp/006-constructor-copy.cpp
}

\subsection{函数返回对象}
\lstinputlisting[style = CodeLstStyleCpp, caption = {函数返回对象}]{
    resources/code/cpp/007-constructor-copy.cpp
}

\subsection{运算符等号重载}
\lstinputlisting[style = CodeLstStyleCpp, caption = {运算符等号重载}]{
    resources/code/cpp/008-operator-equal.cpp
}
\begin{enumerate}[labelindent=0pt, itemsep=0pt, parsep=0pt, topsep=0pt, partopsep=0pt]
    \item 当前``=''没有产生新的对象
    \item 注意不要和前面的使用``=''拷贝构造函数混淆
\end{enumerate}


\section{智能指针}
\subsection{unique\_ptr基本使用}
\lstinputlisting[style = CodeLstStyleCpp, caption = {unique\_ptr基本使用}]{
    resources/code/cpp/009-unique-ptr.cpp
}


\section{引用}
\subsection{引用不能重定位}
\lstinputlisting[style = CodeLstStyleCpp, caption = {引用不能重定位}]{
    resources/code/cpp/010-ref-not-redirect.cpp
}

\section{初始化}
\subsection{初始化变量}
\lstinputlisting[style = CodeLstStyleCpp, caption = {初始化变量}]{
    resources/code/cpp/011-init.cpp
}

\section{继承}
\subsection{简单继承}
\lstinputlisting[style = CodeLstStyleCpp, caption = {简单继承}]{
    resources/code/cpp/012-inherit.cpp
}

\subsection{public继承}
\lstinputlisting[style = CodeLstStyleCpp, caption = {public继承}]{
    resources/code/cpp/013-inherit-public.cpp
}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\end{document}